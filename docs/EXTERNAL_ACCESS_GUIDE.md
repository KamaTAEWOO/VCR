# VCR μ™Έλ¶€ λ„¤νΈμ›ν¬ μ ‘μ† κ°€μ΄λ“

> LTE/5G λ“± μ™Έλ¶€ λ„¤νΈμ›ν¬μ—μ„ λ…ΈνΈλ¶μ VCR Agentμ— μ ‘μ†ν•λ” λ°©λ²•

## κ°μ”

κΈ°λ³Έμ μΌλ΅ VCRμ€ **κ°™μ€ Wi-Fi λ„¤νΈμ›ν¬**μ—μ„λ§ μ‘λ™ν•©λ‹λ‹¤. μ™Έλ¶€μ—μ„ μ ‘μ†ν•λ ¤λ©΄:

1. **ν¬νΈν¬μ›λ”©** - κ³µμ κΈ°μ—μ„ VCR ν¬νΈλ¥Ό μ—΄μ–΄μ¤
2. **DDNS** - λ³€ν•λ” IPλ¥Ό κ³ μ • λ„λ©”μΈμΌλ΅ μ—°κ²°

---

## 1λ‹¨κ³„: Duck DNS μ„¤μ • (λ¬΄λ£ DDNS)

### 1.1 κ°€μ… λ° λ„λ©”μΈ μƒμ„±

1. https://www.duckdns.org μ ‘μ†
2. **Google/GitHub/Twitter** λ“±μΌλ΅ λ΅κ·ΈμΈ
3. μ›ν•λ” λ„λ©”μΈ μ…λ ¥ (μ: `myvcr`)
4. **add domain** ν΄λ¦­

κ²°κ³Ό: `myvcr.duckdns.org` λ„λ©”μΈ μƒμ„±

### 1.2 ν† ν° ν™•μΈ

νμ΄μ§€ μƒλ‹¨μ— ν‘μ‹λ **token**μ„ λ³µμ‚¬ν•΄ λ‘΅λ‹λ‹¤:
```
token: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
```

> β οΈ μ΄ ν† ν°μ€ λΉ„λ°€λ²νΈμ™€ κ°™μµλ‹λ‹¤. κ³µμ ν•μ§€ λ§μ„Έμ”.

---

## 2λ‹¨κ³„: κ³µμ κΈ° ν¬νΈν¬μ›λ”©

### 2.1 λ…ΈνΈλ¶ λ‚΄λ¶€ IP ν™•μΈ

**macOS:**
```bash
ipconfig getifaddr en0
# λλ”
ifconfig | grep "inet " | grep -v 127.0.0.1
```

**Windows:**
```cmd
ipconfig
# IPv4 μ£Όμ† ν™•μΈ (μ: 192.168.0.10)
```

**Linux:**
```bash
hostname -I
```

### 2.2 κ³µμ κΈ° κ΄€λ¦¬ νμ΄μ§€ μ ‘μ†

λΈλΌμ°μ €μ—μ„ κ³µμ κΈ° IP μ…λ ¥ (λ³΄ν†µ μ•„λ μ¤‘ ν•λ‚):
- `192.168.0.1`
- `192.168.1.1`
- `192.168.219.1`

κ΄€λ¦¬μ κ³„μ •μΌλ΅ λ΅κ·ΈμΈ (κ³µμ κΈ° λ’·λ©΄ μ¤ν‹°μ»¤ ν™•μΈ)

### 2.3 ν¬νΈν¬μ›λ”© κ·μΉ™ μ¶”κ°€

λ©”λ‰΄ μ„μΉ (κ³µμ κΈ°λ§λ‹¤ λ‹¤λ¦„):
- **ipTIME**: κ³ κΈ‰ μ„¤μ • β†’ NAT/λΌμ°ν„° κ΄€λ¦¬ β†’ ν¬νΈν¬μ›λ“ μ„¤μ •
- **KT κ³µμ κΈ°**: μ¥μΉ μ„¤μ • β†’ νΈλν”½ κ΄€λ¦¬ β†’ ν¬νΈ ν¬μ›λ”©
- **SK/LG κ³µμ κΈ°**: λ„¤νΈμ›ν¬ μ„¤μ • β†’ ν¬νΈ ν¬μ›λ”©

κ·μΉ™ μ¶”κ°€:
| ν•­λ© | κ°’ |
|------|-----|
| μ™Έλ¶€ ν¬νΈ | `8765` |
| λ‚΄λ¶€ IP | λ…ΈνΈλ¶ IP (μ: `192.168.0.10`) |
| λ‚΄λ¶€ ν¬νΈ | `8765` |
| ν”„λ΅ν† μ½ | TCP |

**μ €μ¥** ν΄λ¦­

---

## 3λ‹¨κ³„: VCR Agent μ‹¤ν–‰

### 3.1 κΈ°λ³Έ μ‹¤ν–‰ (μ™Έλ¶€ IP ν™•μΈμ©)

```bash
cd /path/to/vcr
dart run vcr_agent
```

μ¶λ ¥:
```
 __     _______ ____
 \ \   / / ____|  _ \
  \ \ / / |    | |_) |
   \ V /| |    |  _ <
    \ / | |____| |_) |
     \/  \_____|____/
  Vibe Code Runner - Agent v0.1.0

[12:00:00] Starting VCR Agent v0.1.0
[12:00:00] External IP: 123.456.78.90
[12:00:00] External WebSocket: ws://123.456.78.90:8765
```

### 3.2 DDNS μλ™ μ—…λ°μ΄νΈ μ‹¤ν–‰

```bash
dart run vcr_agent \
  --ddns-domain myvcr.duckdns.org \
  --ddns-token xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
```

μ¶λ ¥:
```
[12:00:00] External IP: 123.456.78.90
[12:00:00] External WebSocket: ws://123.456.78.90:8765
[12:00:01] DDNS updated: ws://myvcr.duckdns.org:8765
[12:00:01] DDNS periodic update started (every 5 minutes)
```

> π’΅ DDNSλ” 5λ¶„λ§λ‹¤ μλ™μΌλ΅ IPλ¥Ό μ—…λ°μ΄νΈν•©λ‹λ‹¤.

---

## 4λ‹¨κ³„: μ•±μ—μ„ μ—°κ²°

### 4.1 ν•Έλ“ν°μ—μ„ VCR μ•± μ‹¤ν–‰

### 4.2 μλ™ μ—°κ²°

1. μ•„λλ΅ μ¤ν¬λ΅¤ν•μ—¬ **OR CONNECT MANUALLY** μ„Ήμ…μΌλ΅ μ΄λ™
2. μ…λ ¥:
   - **IP Address**: `myvcr.duckdns.org` (λλ” μ™Έλ¶€ IP)
   - **Port**: `8765`
3. **CONNECT** νƒ­

### 4.3 μ—°κ²° μ €μ¥

μ—°κ²° μ„±κ³µ μ‹ μλ™μΌλ΅ **Saved Servers**μ— μ €μ¥λ©λ‹λ‹¤.
λ‹¤μλ¶€ν„°λ” μ €μ¥λ μ„λ²„λ¥Ό νƒ­ν•λ©΄ λ°”λ΅ μ—°κ²°λ©λ‹λ‹¤.

---

## λ¬Έμ  ν•΄κ²°

### μ—°κ²°μ΄ μ• λ  λ• μ²΄ν¬λ¦¬μ¤νΈ

| ν™•μΈ ν•­λ© | ν™•μΈ λ°©λ²• |
|-----------|----------|
| Agent μ‹¤ν–‰ μ¤‘? | ν„°λ―Έλ„μ—μ„ λ΅κ·Έ ν™•μΈ |
| ν¬νΈν¬μ›λ”© μ„¤μ •? | κ³µμ κΈ° κ΄€λ¦¬ νμ΄μ§€ ν™•μΈ |
| λ°©ν™”λ²½ μ°¨λ‹¨? | macOS: μ‹μ¤ν… μ„¤μ • β†’ λ„¤νΈμ›ν¬ β†’ λ°©ν™”λ²½ |
| λ‚΄λ¶€ IP λ³€κ²½? | DHCPλ΅ IPκ°€ λ°”λ€λ©΄ ν¬νΈν¬μ›λ”© μμ • ν•„μ” |
| DDNS μ—…λ°μ΄νΈ? | Duck DNS νμ΄μ§€μ—μ„ current ip ν™•μΈ |

### ν¬νΈκ°€ μ—΄λ Έλ”μ§€ ν™•μΈ

μ™Έλ¶€μ—μ„ (LTE μ—°κ²° μƒνƒμ—μ„):
```bash
nc -zv myvcr.duckdns.org 8765
```

λλ” https://www.yougetsignal.com/tools/open-ports/ μ—μ„ ν™•μΈ

### κ³ μ • IP μ„¤μ • (κ¶μ¥)

λ…ΈνΈλ¶ IPκ°€ λ°”λ€λ©΄ ν¬νΈν¬μ›λ”©μ΄ μ‘λ™ν•μ§€ μ•μµλ‹λ‹¤.
κ³µμ κΈ°μ—μ„ **DHCP κ³ μ • ν• λ‹Ή** λλ” λ…ΈνΈλ¶μ—μ„ **μλ™ IP μ„¤μ •**μ„ κ¶μ¥ν•©λ‹λ‹¤.

---

## λ³΄μ• μ°Έκ³ μ‚¬ν•­

β οΈ μ΄ κ°€μ΄λ“λ” **κ°μΈ μ‚¬μ©μ**λ¥Ό μ„ν• κ²ƒμ…λ‹λ‹¤.

- DDNS ν† ν°μ„ μ½”λ“μ— μ €μ¥ν•μ§€ λ§μ„Έμ”
- κ³µμ© λ„¤νΈμ›ν¬μ—μ„ μ‚¬μ© μ‹ μ£Όμν•μ„Έμ”
- ν•„μ” μ—†μ„ λ•λ” Agentλ¥Ό μΆ…λ£ν•μ„Έμ”

λ” λ†’μ€ λ³΄μ•μ΄ ν•„μ”ν•λ©΄ **Tailscale** κ°™μ€ VPN μ†”λ£¨μ…μ„ κ¶μ¥ν•©λ‹λ‹¤.
(docs/remote-terminal-access-guide.md μ°Έκ³ )

---

## λΉ λ¥Έ μ‹μ‘ μ”μ•½

```bash
# 1. Duck DNSμ—μ„ λ„λ©”μΈ μƒμ„± (myvcr.duckdns.org)
# 2. κ³µμ κΈ°μ—μ„ ν¬νΈν¬μ›λ”© (8765 β†’ λ…ΈνΈλ¶IP:8765)
# 3. Agent μ‹¤ν–‰
dart run vcr_agent --ddns-domain myvcr.duckdns.org --ddns-token YOUR_TOKEN

# 4. μ•±μ—μ„ myvcr.duckdns.org:8765λ΅ μ—°κ²°
```
